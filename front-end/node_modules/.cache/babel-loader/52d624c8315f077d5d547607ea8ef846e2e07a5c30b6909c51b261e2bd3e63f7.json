{"ast":null,"code":"var _jsxFileName = \"/Users/marinatarasenko/Documents/Frontend/project/front-end/src/Components/products/Products/AllProductsss.jsx\",\n  _s = $RefreshSig$();\nimport prod from './products.module.css';\nimport productsStore from '../../../store/productsStore';\nimport { observer } from 'mobx-react-lite';\nimport { useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport sortingStore from '../../../store/sorting/sortingStore';\nimport SortContiner from '../../sorting/SortContainer';\nimport cartStore from '../../../store/cartStore/cartStore';\nimport modal from '../../modalWindow/modal.module.css';\nimport Modal from '../../modalWindow/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AllProducts = _s(observer(_c = _s(() => {\n  _s();\n  const {\n    products,\n    isLoading,\n    getAllProducts\n  } = productsStore;\n  const {\n    sortedProducts\n  } = sortingStore;\n  const location = useLocation();\n  const handleAddToCart = product => {\n    cartStore.addItem(product);\n  };\n  useEffect(() => {\n    sortingStore.resetSortedProducts();\n  }, [location.pathname]);\n  useEffect(() => {\n    getAllProducts();\n  }, [getAllProducts]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(SortContiner, {\n        products: products\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: prod.wrapper,\n      children: isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 23\n      }, this) : (sortedProducts.length > 0 ? sortedProducts : products).map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: prod.card,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: prod.image,\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${product.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `http://localhost:3333/${product.image}`,\n              alt: product.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: prod.btn,\n            onClick: () => handleAddToCart(product),\n            children: \"To cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: prod.price,\n          children: product.discont_price ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: prod.priceProduct,\n              children: [product.discont_price, \" $\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: prod.noPrice,\n              children: [product.price, \" $\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: prod.discount,\n              children: [((product.price - product.discont_price) * 100 / product.price).toFixed(0), \" %\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [product.price, \" $\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: prod.link,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${product.id}`,\n            className: prod.title,\n            children: product.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}, \"Fsnn4T0K08C2NlVrqWhZtVJucvU=\", false, function () {\n  return [useLocation];\n})), \"Fsnn4T0K08C2NlVrqWhZtVJucvU=\", false, function () {\n  return [useLocation];\n});\n_c2 = AllProducts;\nexport default AllProducts;\nvar _c, _c2;\n$RefreshReg$(_c, \"AllProducts$observer\");\n$RefreshReg$(_c2, \"AllProducts\");","map":{"version":3,"names":["prod","productsStore","observer","useEffect","Link","useLocation","sortingStore","SortContiner","cartStore","modal","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","AllProducts","_s","_c","products","isLoading","getAllProducts","sortedProducts","location","handleAddToCart","product","addItem","resetSortedProducts","pathname","children","fileName","_jsxFileName","lineNumber","columnNumber","className","wrapper","length","map","card","image","to","id","src","alt","btn","onClick","price","discont_price","priceProduct","noPrice","discount","toFixed","link","title","_c2","$RefreshReg$"],"sources":["/Users/marinatarasenko/Documents/Frontend/project/front-end/src/Components/products/Products/AllProductsss.jsx"],"sourcesContent":["\nimport prod from './products.module.css'; \nimport productsStore from '../../../store/productsStore'; \nimport { observer } from 'mobx-react-lite'; \nimport { useEffect } from 'react'; \nimport { Link, useLocation } from 'react-router-dom'; \nimport sortingStore from '../../../store/sorting/sortingStore';\nimport SortContiner from '../../sorting/SortContainer';\nimport cartStore from '../../../store/cartStore/cartStore';\nimport modal from '../../modalWindow/modal.module.css'\nimport Modal from '../../modalWindow/Modal';\n\nconst AllProducts = observer(() => {\n  const { products, isLoading, getAllProducts } = productsStore;\n  const {sortedProducts} = sortingStore;\n  const location = useLocation();\n  \n\n  const handleAddToCart = (product) => {\n    cartStore.addItem(product);\n\n  }\n\n  useEffect(() => {\n    sortingStore.resetSortedProducts();\n  }, [location.pathname]);\n  \n  useEffect(() => { \n      getAllProducts();   \n  }, [getAllProducts]);\n  \n  \n  \n  return (\n    <div>\n      <div >\n        {<SortContiner products={products}/>}\n      </div>\n      <div className={prod.wrapper}>\n        {isLoading ? (<p>Loading...</p>) : \n        ((sortedProducts.length > 0 ? sortedProducts : products).map((product) => (\n            <div key={product.id} className={prod.card}>\n\n              <div className={prod.image} >\n                  <Link to={`/products/${product.id}`}>\n                      <img \n                        src={`http://localhost:3333/${product.image}`} \n                        alt={product.id} \n                        />          \n                  </Link>  \n                  \n                    <button className={prod.btn} \n                    onClick={() => handleAddToCart(product)}\n                    >To cart</button>\n                   \n              </div>\n\n              <div className={prod.price}>\n                  {product.discont_price ? (\n                    <>\n                      <p className={prod.priceProduct}>{product.discont_price} $</p> \n                      <p className={prod.noPrice}>{product.price} $</p>\n                      <p className={prod.discount}>{((product.price-product.discont_price)*100/product.price).toFixed(0)} %</p>\n                    </>\n                  ) : <p>{product.price} $</p>}\n              </div>\n\n              <div className={prod.link}>\n                <Link to={`/products/${product.id}`} className={prod.title}>\n                  {product.title}\n                </Link>   \n              </div>\n                       \n            </div>\n          ))\n        )}\n      </div>\n      {/* <Modal\n              wrapperClassName={modal.wrapper}\n              contentClassName={modal.content}\n              textClassName={modal.text}\n              btnClassName={modal.btn}>\n              <p>Product added to cart.</p>\n              <p>Thank you for your purchase!</p>\n      </Modal> */}\n    </div>\n  );\n});\n\nexport default AllProducts; \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}