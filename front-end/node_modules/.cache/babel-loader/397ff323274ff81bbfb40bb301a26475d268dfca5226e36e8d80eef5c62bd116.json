{"ast":null,"code":"var _jsxFileName = \"/Users/marinatarasenko/Documents/Frontend/project/front-end/src/Components/promotion/Promotion.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport productsStore from '../../store/productsStore';\nimport promo from './promotion.module.css';\nimport { Link } from 'react-router-dom';\nimport cartStore from '../../store/cartStore/cartStore';\nimport sortingStore from '../../store/sorting/sortingStore';\nimport { observer } from 'mobx-react-lite';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Promotion = _s(observer(_c = _s(({\n  limit\n}) => {\n  _s();\n  const {\n    products,\n    isLoading,\n    getAllProducts\n  } = productsStore;\n  const {\n    sortedProducts\n  } = sortingStore;\n  console.log(sortedProducts);\n  const handleAddToCart = product => {\n    cartStore.addItem(product);\n  };\n  const saleProducts = products.filter(product => product.discont_price !== null);\n  useEffect(() => {\n    getAllProducts();\n  }, [getAllProducts]);\n  const displayProducts = sortedProducts.length > 0 ? sortedProducts : saleProducts;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: promo.wrapper,\n      children: displayProducts.slice(0, limit).map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: promo.cardProduct,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: promo.image,\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${product.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `http://localhost:3333/${product.image}`,\n              alt: product.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: promo.btn,\n            onClick: () => handleAddToCart(product),\n            children: \"To cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: promo.price,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: promo.priceDiscount,\n            children: [product.discont_price, \" $\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: promo.priceProduct,\n            children: [product.price, \" $\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: promo.pricePercent,\n            children: [((product.price - product.discont_price) * 100 / product.price).toFixed(0), \" %\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: promo.link,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${product.id}`,\n            className: promo.title,\n            children: product.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 3\n  }, this);\n}, \"OD7bBpZva5O2jO+Puf00hKivP7c=\")), \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c2 = Promotion;\nexport default Promotion;\nvar _c, _c2;\n$RefreshReg$(_c, \"Promotion$observer\");\n$RefreshReg$(_c2, \"Promotion\");","map":{"version":3,"names":["React","useEffect","productsStore","promo","Link","cartStore","sortingStore","observer","jsxDEV","_jsxDEV","Promotion","_s","_c","limit","products","isLoading","getAllProducts","sortedProducts","console","log","handleAddToCart","product","addItem","saleProducts","filter","discont_price","displayProducts","length","children","fileName","_jsxFileName","lineNumber","columnNumber","className","wrapper","slice","map","cardProduct","image","to","id","src","alt","btn","onClick","price","priceDiscount","priceProduct","pricePercent","toFixed","link","title","_c2","$RefreshReg$"],"sources":["/Users/marinatarasenko/Documents/Frontend/project/front-end/src/Components/promotion/Promotion.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport productsStore from '../../store/productsStore'; \nimport promo from './promotion.module.css'\nimport { Link } from 'react-router-dom';\nimport cartStore\nfrom '../../store/cartStore/cartStore';\nimport sortingStore from '../../store/sorting/sortingStore';\nimport { observer } from 'mobx-react-lite';\n\n\nconst Promotion = observer(({limit}) => {\n  const {products, isLoading, getAllProducts} = productsStore;\n  const {sortedProducts} = sortingStore;\n\nconsole.log(sortedProducts)\n  const handleAddToCart = (product) => {\n    cartStore.addItem(product);\n  }\nconst saleProducts = products.filter((product) => product.discont_price !== null);\n  useEffect(() => {\n    getAllProducts();\n  }, [getAllProducts]);\n\n  \n  const displayProducts = sortedProducts.length > 0 ? sortedProducts : saleProducts;\n  \n  return (\n  <div>\n    \n\n    {isLoading ? (\n      <p>Loading...</p>\n    ) : (\n      <div className={promo.wrapper}>\n        {displayProducts.slice(0,limit).map((product) => (\n          <div key={product.id} className={promo.cardProduct}>\n            \n            <div className={promo.image} >\n                  <Link to={`/products/${product.id}`}>\n                      <img \n                        src={`http://localhost:3333/${product.image}`} \n                        alt={product.id} \n                        />          \n                  </Link>  \n                  \n                    <button className={promo.btn} \n                    onClick={() => handleAddToCart(product)}\n                    >To cart</button>\n              </div>\n\n            <div className={promo.price}>\n              <p className={promo.priceDiscount}>{product.discont_price} $</p> \n              <p className={promo.priceProduct}>{product.price} $</p>\n              <p className={promo.pricePercent}>{((product.price-product.discont_price)*100/product.price).toFixed(0)} %</p>\n            </div>\n            <div className={promo.link}>\n              <Link to={`/products/${product.id}`} className={promo.title}>\n                {product.title}\n              </Link>\n            </div>\n            \n          </div>\n        ))}\n      </div>\n  \n    )}\n    \n  </div>\n    )\n})\n\nexport default Promotion"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}